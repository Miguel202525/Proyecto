<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geoportal_Miguel - Precipitaciones Ecuador</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            overflow-x: hidden;
        }

        .header {
            background: rgba(0,0,0,0.3);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #64b5f6;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-menu li a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 500;
        }

        .nav-menu li a:hover {
            color: #64b5f6;
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><radialGradient id="a" cx="50%" cy="40%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><rect width="100" height="20" fill="url(%23a)"/></svg>');
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: fadeInDown 1s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            margin: 40px 0;
        }

        .map-container {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .map-controls {
            display: flex;
            gap: 10px;
        }

        .btn {
            background: linear-gradient(45deg, #42a5f5, #1e88e5);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn.active {
            background: linear-gradient(45deg, #ff7043, #ff5722);
        }

        .map-view {
            background: #1a1a2e;
            height: 500px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255,255,255,0.1);
        }

        .ecuador-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, #0f3460 0%, #16213e 50%, #0f3460 100%);
        }

        .region {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        .region:hover {
            transform: scale(1.1);
            z-index: 10;
        }

        .region.high { background: #ff4444; }
        .region.medium { background: #ffaa00; }
        .region.low { background: #8BC34A; }
        .region[data-status="Muy Baja"] { background: #4CAF50; }
        .region[data-status="Cr√≠tica"] { background: #d32f2f; }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .info-panel {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .info-panel h3 {
            margin-bottom: 15px;
            color: #64b5f6;
            font-size: 1.2rem;
        }

        .data-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .precipitation-chart {
            height: 200px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin-top: 15px;
        }

        .chart-bars {
            display: flex;
            align-items: end;
            height: 100%;
            padding: 20px;
            gap: 8px;
        }

        .chart-bar {
            background: linear-gradient(to top, #42a5f5, #64b5f6);
            border-radius: 3px 3px 0 0;
            min-width: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .chart-bar:hover {
            background: linear-gradient(to top, #ff7043, #ffab40);
            transform: scaleY(1.05);
        }

        .legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #64b5f6;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .alerts-section {
            background: rgba(255,82,82,0.1);
            border: 1px solid rgba(255,82,82,0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
        }

        .alert-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .alert-icon {
            font-size: 1.5rem;
        }

        .footer {
            background: rgba(0,0,0,0.3);
            padding: 40px 0;
            margin-top: 60px;
            text-align: center;
        }

        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.8rem;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .region.alert {
            animation: pulse 2s infinite;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .nav-menu {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .map-view {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <div class="logo">üåßÔ∏è Geoportal_Miguel</div>
            <ul class="nav-menu">
                <li><a href="#dashboard">Dashboard</a></li>
                <li><a href="#datos">Datos</a></li>
                <li><a href="#alertas">Alertas</a></li>
                <li><a href="#reportes">Reportes</a></li>
                <li><a href="#ayuda">Ayuda</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <h1>Sistema de Monitoreo de Precipitaciones - Ecuador</h1>
        <p>An√°lisis en tiempo real de patrones pluviom√©tricos y alertas meteorol√≥gicas</p>
    </section>

    <div class="main-container">
        <section id="dashboard" class="dashboard">
            <div class="map-container">
                <div class="map-header">
                    <h2>üìä Mapa de Precipitaciones</h2>
                    <div class="map-controls">
                        <button class="btn active" onclick="changeView('current')">Actual</button>
                        <button class="btn" onclick="changeView('forecast')">Pron√≥stico</button>
                        <button class="btn" onclick="changeView('historical')">Hist√≥rico</button>
                    </div>
                </div>
                
                <div class="map-view">
                    <div class="ecuador-map" id="ecuadorMap">
                        <!-- Todas las 24 provincias del Ecuador -->
                        
                        <!-- REGI√ìN COSTA -->
                        <div class="region high" style="top: 15%; left: 12%; width: 45px; height: 45px;" 
                             data-region="Esmeraldas" data-precip="145mm" data-status="Alta">
                            ESM
                        </div>
                        <div class="region medium" style="top: 35%; left: 8%; width: 40px; height: 40px;" 
                             data-region="Manab√≠" data-precip="89mm" data-status="Media">
                            MAN
                        </div>
                        <div class="region medium" style="top: 55%; left: 15%; width: 42px; height: 42px;" 
                             data-region="Guayas" data-precip="95mm" data-status="Media">
                            GUA
                        </div>
                        <div class="region low" style="top: 50%; left: 5%; width: 35px; height: 35px;" 
                             data-region="Los R√≠os" data-precip="67mm" data-status="Media">
                            LR√ç
                        </div>
                        <div class="region low" style="top: 70%; left: 12%; width: 38px; height: 38px;" 
                             data-region="El Oro" data-precip="45mm" data-status="Baja">
                            ORO
                        </div>
                        <div class="region medium" style="top: 45%; left: 25%; width: 35px; height: 35px;" 
                             data-region="Bol√≠var" data-precip="78mm" data-status="Media">
                            BOL
                        </div>
                        <div class="region low" style="top: 35%; left: 5%; width: 32px; height: 32px;" 
                             data-region="Santo Domingo" data-precip="56mm" data-status="Baja">
                            SDO
                        </div>

                        <!-- REGI√ìN SIERRA -->
                        <div class="region low" style="top: 25%; left: 18%; width: 38px; height: 38px;" 
                             data-region="Carchi" data-precip="34mm" data-status="Baja">
                            CAR
                        </div>
                        <div class="region medium" style="top: 30%; left: 22%; width: 40px; height: 40px;" 
                             data-region="Imbabura" data-precip="67mm" data-status="Media">
                            IMB
                        </div>
                        <div class="region medium" style="top: 35%; left: 25%; width: 42px; height: 42px;" 
                             data-region="Pichincha" data-precip="78mm" data-status="Media">
                            PIC
                        </div>
                        <div class="region low" style="top: 42%; left: 28%; width: 36px; height: 36px;" 
                             data-region="Cotopaxi" data-precip="45mm" data-status="Baja">
                            COT
                        </div>
                        <div class="region low" style="top: 47%; left: 32%; width: 38px; height: 38px;" 
                             data-region="Tungurahua" data-precip="32mm" data-status="Baja">
                            TUN
                        </div>
                        <div class="region medium" style="top: 52%; left: 30%; width: 40px; height: 40px;" 
                             data-region="Chimborazo" data-precip="89mm" data-status="Media">
                            CHI
                        </div>
                        <div class="region low" style="top: 60%; left: 28%; width: 36px; height: 36px;" 
                             data-region="Ca√±ar" data-precip="41mm" data-status="Baja">
                            C√ëR
                        </div>
                        <div class="region low" style="top: 68%; left: 32%; width: 40px; height: 40px;" 
                             data-region="Azuay" data-precip="28mm" data-status="Baja">
                            AZU
                        </div>
                        <div class="region medium" style="top: 78%; left: 30%; width: 42px; height: 42px;" 
                             data-region="Loja" data-precip="67mm" data-status="Media">
                            LOJ
                        </div>

                        <!-- REGI√ìN AMAZ√ìNICA -->
                        <div class="region high" style="top: 22%; left: 45%; width: 48px; height: 48px;" 
                             data-region="Sucumb√≠os" data-precip="156mm" data-status="Alta">
                            SUC
                        </div>
                        <div class="region high alert" style="top: 28%; left: 55%; width: 50px; height: 50px;" 
                             data-region="Orellana" data-precip="189mm" data-status="Cr√≠tica">
                            ORE
                        </div>
                        <div class="region high" style="top: 35%; left: 38%; width: 46px; height: 46px;" 
                             data-region="Napo" data-precip="167mm" data-status="Alta">
                            NAP
                        </div>
                        <div class="region high" style="top: 43%; left: 48%; width: 48px; height: 48px;" 
                             data-region="Pastaza" data-precip="178mm" data-status="Alta">
                            PAS
                        </div>
                        <div class="region high" style="top: 55%; left: 45%; width: 46px; height: 46px;" 
                             data-region="Morona Santiago" data-precip="145mm" data-status="Alta">
                            MST
                        </div>
                        <div class="region high" style="top: 68%; left: 50%; width: 50px; height: 50px;" 
                             data-region="Zamora Chinchipe" data-precip="134mm" data-status="Alta">
                            ZCH
                        </div>

                        <!-- REGI√ìN INSULAR -->
                        <div class="region low" style="top: 45%; left: 75%; width: 35px; height: 35px;" 
                             data-region="Gal√°pagos" data-precip="12mm" data-status="Muy Baja">
                            GAL
                        </div>
                        
                        <!-- Zona no delimitada -->
                        <div class="region medium" style="top: 85%; left: 45%; width: 38px; height: 38px;" 
                             data-region="Santa Elena" data-precip="73mm" data-status="Media">
                            STE
                        </div>
                    </div>
                </div>

                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4CAF50;"></div>
                        <span>Muy Baja (0-20mm)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #8BC34A;"></div>
                        <span>Baja (21-60mm)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffaa00;"></div>
                        <span>Media (61-100mm)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff4444;"></div>
                        <span>Alta (101-150mm)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #d32f2f;"></div>
                        <span>Cr√≠tica (>150mm)</span>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="info-panel">
                    <h3>üìç Datos de Regi√≥n</h3>
                    <div id="regionInfo">
                        <p style="text-align: center; opacity: 0.7; margin: 20px 0;">
                            Selecciona una regi√≥n en el mapa
                        </p>
                    </div>
                </div>

                <div class="info-panel">
                    <h3>üìà Precipitaci√≥n Semanal</h3>
                    <div class="precipitation-chart">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 60%;" data-day="L" data-value="45mm"></div>
                            <div class="chart-bar" style="height: 80%;" data-day="M" data-value="67mm"></div>
                            <div class="chart-bar" style="height: 40%;" data-day="M" data-value="23mm"></div>
                            <div class="chart-bar" style="height: 90%;" data-day="J" data-value="89mm"></div>
                            <div class="chart-bar" style="height: 70%;" data-day="V" data-value="54mm"></div>
                            <div class="chart-bar" style="height: 95%;" data-day="S" data-value="98mm"></div>
                            <div class="chart-bar" style="height: 35%;" data-day="D" data-value="18mm"></div>
                        </div>
                    </div>
                </div>

                <div class="info-panel">
                    <h3>‚ö° Estado del Sistema</h3>
                    <div class="data-item">
                        <span>Estaciones Activas:</span>
                        <span style="color: #4CAF50;">127/130</span>
                    </div>
                    <div class="data-item">
                        <span>√öltima Actualizaci√≥n:</span>
                        <span>hace 5 min</span>
                    </div>
                    <div class="data-item">
                        <span>Conectividad:</span>
                        <span style="color: #4CAF50;">98.5%</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">24</div>
                <div class="stat-label">Provincias Monitoreadas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">89mm</div>
                <div class="stat-label">Precipitaci√≥n Promedio Nacional</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">167</div>
                <div class="stat-label">Estaciones Meteorol√≥gicas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">5</div>
                <div class="stat-label">Alertas Activas</div>
            </div>
        </section>

        <section class="alerts-section">
            <h3 style="margin-bottom: 20px; color: #ff6b6b;">üö® Alertas Meteorol√≥gicas Activas</h3>
            <div class="alert-item">
                <div class="alert-icon">üî¥</div>
                <div>
                    <strong>Alerta Roja - Orellana</strong><br>
                    <span style="opacity: 0.8;">Precipitaciones cr√≠ticas (189mm). Riesgo de inundaciones y deslizamientos.</span>
                </div>
            </div>
            <div class="alert-item">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>Alerta Amarilla - Regi√≥n Amaz√≥nica</strong><br>
                    <span style="opacity: 0.8;">Sucumb√≠os, Napo, Pastaza con precipitaciones intensas. Monitoreo continuo.</span>
                </div>
            </div>
            <div class="alert-item">
                <div class="alert-icon">üåßÔ∏è</div>
                <div>
                    <strong>Aviso - Costa Norte</strong><br>
                    <span style="opacity: 0.8;">Esmeraldas: incremento de precipitaciones en pr√≥ximas 48 horas.</span>
                </div>
            </div>
            <div class="alert-item">
                <div class="alert-icon">üíß</div>
                <div>
                    <strong>Sequ√≠a - Gal√°pagos</strong><br>
                    <span style="opacity: 0.8;">Precipitaciones muy bajas (12mm). Monitoreo de reservas h√≠dricas.</span>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="main-container">
            <p>&copy; 2025 Geoportal_Miguel - Sistema de Monitoreo de Precipitaciones Ecuador</p>
            <p>Instituto Nacional de Meteorolog√≠a e Hidrolog√≠a (INAMHI) - Datos en tiempo real</p>
        </div>
    </footer>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Variables globales
        let currentView = 'current';
        let selectedRegion = null;

        // Datos simulados de precipitaciones por regi√≥n - TODAS LAS PROVINCIAS
        const regionData = {
            // REGI√ìN COSTA
            'Esmeraldas': { precip: '145mm', temp: '26¬∞C', humidity: '85%', status: 'Alta' },
            'Manab√≠': { precip: '89mm', temp: '25¬∞C', humidity: '78%', status: 'Media' },
            'Guayas': { precip: '95mm', temp: '28¬∞C', humidity: '78%', status: 'Media' },
            'Los R√≠os': { precip: '67mm', temp: '26¬∞C', humidity: '82%', status: 'Media' },
            'El Oro': { precip: '45mm', temp: '27¬∞C', humidity: '70%', status: 'Baja' },
            'Bol√≠var': { precip: '78mm', temp: '22¬∞C', humidity: '75%', status: 'Media' },
            'Santo Domingo': { precip: '56mm', temp: '24¬∞C', humidity: '80%', status: 'Baja' },
            'Santa Elena': { precip: '73mm', temp: '26¬∞C', humidity: '76%', status: 'Media' },
            
            // REGI√ìN SIERRA
            'Carchi': { precip: '34mm', temp: '14¬∞C', humidity: '72%', status: 'Baja' },
            'Imbabura': { precip: '67mm', temp: '16¬∞C', humidity: '75%', status: 'Media' },
            'Pichincha': { precip: '78mm', temp: '18¬∞C', humidity: '72%', status: 'Media' },
            'Cotopaxi': { precip: '45mm', temp: '15¬∞C', humidity: '70%', status: 'Baja' },
            'Tungurahua': { precip: '32mm', temp: '16¬∞C', humidity: '65%', status: 'Baja' },
            'Chimborazo': { precip: '89mm', temp: '13¬∞C', humidity: '78%', status: 'Media' },
            'Ca√±ar': { precip: '41mm', temp: '17¬∞C', humidity: '68%', status: 'Baja' },
            'Azuay': { precip: '28mm', temp: '15¬∞C', humidity: '68%', status: 'Baja' },
            'Loja': { precip: '67mm', temp: '19¬∞C', humidity: '74%', status: 'Media' },
            
            // REGI√ìN AMAZ√ìNICA
            'Sucumb√≠os': { precip: '156mm', temp: '24¬∞C', humidity: '88%', status: 'Alta' },
            'Orellana': { precip: '189mm', temp: '25¬∞C', humidity: '92%', status: 'Cr√≠tica' },
            'Napo': { precip: '167mm', temp: '23¬∞C', humidity: '90%', status: 'Alta' },
            'Pastaza': { precip: '178mm', temp: '24¬∞C', humidity: '89%', status: 'Alta' },
            'Morona Santiago': { precip: '145mm', temp: '22¬∞C', humidity: '87%', status: 'Alta' },
            'Zamora Chinchipe': { precip: '134mm', temp: '21¬∞C', humidity: '85%', status: 'Alta' },
            
            // REGI√ìN INSULAR
            'Gal√°pagos': { precip: '12mm', temp: '23¬∞C', humidity: '65%', status: 'Muy Baja' }
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            initializeMap();
            initializeCharts();
            startRealTimeUpdates();
        });

        // Funci√≥n para cambiar vista del mapa
        function changeView(view) {
            currentView = view;
            
            // Actualizar botones activos
            document.querySelectorAll('.map-controls .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Simular cambio de datos
            updateMapData(view);
        }

        // Funci√≥n para actualizar datos del mapa
        function updateMapData(view) {
            const regions = document.querySelectorAll('.region');
            
            regions.forEach(region => {
                // Simular diferentes datos seg√∫n la vista
                switch(view) {
                    case 'forecast':
                        // Datos de pron√≥stico (simulados)
                        region.style.opacity = '0.8';
                        region.style.filter = 'brightness(1.2)';
                        break;
                    case 'historical':
                        // Datos hist√≥ricos (simulados)
                        region.style.opacity = '0.6';
                        region.style.filter = 'sepia(0.3)';
                        break;
                    default:
                        // Datos actuales
                        region.style.opacity = '1';
                        region.style.filter = 'none';
                }
            });
        }

        // Inicializar interacciones del mapa
        function initializeMap() {
            const regions = document.querySelectorAll('.region');
            const tooltip = document.getElementById('tooltip');
            
            regions.forEach(region => {
                // Eventos del mouse
                region.addEventListener('mouseenter', function(e) {
                    const regionName = this.getAttribute('data-region');
                    const precipData = this.getAttribute('data-precip');
                    const status = this.getAttribute('data-status');
                    
                    tooltip.innerHTML = `
                        <strong>${regionName}</strong><br>
                        Precipitaci√≥n: ${precipData}<br>
                        Estado: ${status}
                    `;
                    tooltip.style.display = 'block';
                });
                
                region.addEventListener('mousemove', function(e) {
                    tooltip.style.left = e.pageX + 10 + 'px';
                    tooltip.style.top = e.pageY - 10 + 'px';
                });
                
                region.addEventListener('mouseleave', function() {
                    tooltip.style.display = 'none';
                });
                
                // Click para seleccionar regi√≥n
                region.addEventListener('click', function() {
                    selectRegion(this.getAttribute('data-region'));
                });
            });
        }

        // Funci√≥n para seleccionar regi√≥n
        function selectRegion(regionName) {
            selectedRegion = regionName;
            const data = regionData[regionName];
            
            if (data) {
                const regionInfo = document.getElementById('regionInfo');
                regionInfo.innerHTML = `
                    <div class="data-item">
                        <span>Regi√≥n:</span>
                        <span><strong>${regionName}</strong></span>
                    </div>
                    <div class="data-item">
                        <span>Precipitaci√≥n:</span>
                        <span style="color: #64b5f6;">${data.precip}</span>
                    </div>
                    <div class="data-item">
                        <span>Temperatura:</span>
                        <span>${data.temp}</span>
                    </div>
                    <div class="data-item">
                        <span>Humedad:</span>
                        <span>${data.humidity}</span>
                    </div>
                    <div class="data-item">
                        <span>Estado:</span>
                        <span style="color: ${getStatusColor(data.status)};">${data.status}</span>
                    </div>
                `;
            }
        }

        // Funci√≥n para obtener color seg√∫n estado
        function getStatusColor(status) {
            switch(status) {
                case 'Cr√≠tica': return '#d32f2f';
                case 'Alta': return '#ff4444';
                case 'Media': return '#ffaa00';
                case 'Baja': return '#8BC34A';
                case 'Muy Baja': return '#4CAF50';
                default: return '#64b5f6';
            }
        }

        // Inicializar gr√°ficos
        function initializeCharts() {
            const chartBars = document.querySelectorAll('.chart-bar');
            
            chartBars.forEach(bar => {
                bar.addEventListener('mouseenter', function() {
                    const day = this.getAttribute('data-day');
                    const value = this.getAttribute('data-value');
                    
                    this.style.transform = 'scaleY(1.05)';
                    this.title = `${day}: ${value}`;
                });
                
                bar.addEventListener('mouseleave', function() {
                    this.style.transform = 'scaleY(1)';
                });
            });
        }

        // Simulaci√≥n de actualizaciones en tiempo real
        function startRealTimeUpdates() {
            setInterval(() => {
                // Actualizar timestamp
                const lastUpdate = document.querySelectorAll('.data-item span')[5];
                if (lastUpdate) {
                    const minutes = Math.floor(Math.random() * 10) + 1;
                    lastUpdate.textContent = `hace ${minutes} min`;
                }
                
                // Simular cambios menores en los datos
                updateRealTimeData();
            }, 30000); // Cada 30 segundos
        }

        // Funci√≥n para actualizar datos en tiempo real
        function updateRealTimeData() {
            const regions = document.querySelectorAll('.region');
            
            regions.forEach(region => {
                // Peque√±a animaci√≥n para indicar actualizaci√≥n
                region.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    region.style.transform = 'scale(1)';
                }, 200);
            });
        }

        // Funci√≥n para generar reportes
        function generateReport() {
            alert('Generando reporte de precipitaciones...\n\nEl reporte incluir√°:\n- Datos hist√≥ricos\n- An√°lisis estad√≠stico\n- Pron√≥sticos\n- Mapas tem√°ticos');
        }

        // Scroll suave para navegaci√≥n
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Efectos de animaci√≥n adicionales
        function createRainEffect() {
            const rainContainer = document.createElement('div');
            rainContainer.style.position = 'fixed';
            rainContainer.style.top = '0';
            rainContainer.style.left = '0';
            rainContainer.style.width = '100%';
            rainContainer.style.height = '100%';
            rainContainer.style.pointerEvents = 'none';
            rainContainer.style.zIndex = '1';
            
            for (let i = 0; i < 50; i++) {
                const drop = document.createElement('div');
                drop.style.position = 'absolute';
                drop.style.width = '2px';
                drop.style.height = '10px';
                drop.style.background = 'rgba(135, 206, 250, 0.6)';
                drop.style.left = Math.random() * 100 + '%';
                drop.style.animationDuration = (Math.random() * 2 + 1) + 's';
                drop.style.animationName = 'fall';
                drop.style.animationIterationCount = 'infinite';
                drop.style.animationTimingFunction = 'linear';
                
                rainContainer.appendChild(drop);
            }
            
            document.body.appendChild(rainContainer);
            
            // Remover despu√©s de 10 segundos
            setTimeout(() => {
                document.body.removeChild(rainContainer);
            }, 10000);
        }

        // CSS para animaci√≥n de lluvia
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% { transform: translateY(-100vh); }
                100% { transform: translateY(100vh); }
            }
        `;
        document.head.appendChild(style);

        // Activar efecto de lluvia cada 2 minutos
        setInterval(createRainEffect, 120000);
    </script>
</body>
</html>
